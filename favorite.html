<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>â¤ï¸ Ø§Ù„Ù…ÙØ¶Ù„Ø© - Waslni</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@500&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: "Cairo", sans-serif;
      background: linear-gradient(180deg, #000000, #1a1a1a);
      color: #FFD700;
      text-align: center;
      margin: 0;
      padding: 20px;
    }

    h1 {
      text-shadow: 0 0 15px #FFD700;
      animation: glow 2s infinite alternate;
    }

    @keyframes glow {
      from { text-shadow: 0 0 10px #FFD700; }
      to { text-shadow: 0 0 30px #fff36b; }
    }

    .driver-card {
      background-color: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,215,0,0.3);
      border-radius: 10px;
      padding: 15px;
      margin: 10px auto;
      width: 85%;
      color: white;
      backdrop-filter: blur(6px);
      box-shadow: 0 0 10px rgba(255,215,0,0.2);
      transition: 0.3s;
      text-align: left;
    }

    .driver-card:hover {
      transform: scale(1.02);
      box-shadow: 0 0 25px rgba(255,215,0,0.4);
    }

    .driver-card img {
      width: 100%;
      border-radius: 10px;
      margin-bottom: 10px;
    }

    .contact-btn, .remove-btn {
      display: inline-block;
      background: #FFD700;
      color: #000;
      padding: 8px 12px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: bold;
      margin: 4px;
      transition: 0.3s;
    }

    .remove-btn {
      background: #ff5e5e;
      color: white;
    }

    button {
      border: none;
      border-radius: 8px;
      padding: 10px 15px;
      background: #FFD700;
      font-weight: bold;
      color: #000;
      cursor: pointer;
      transition: 0.3s;
    }

    button:hover {
      transform: scale(1.05);
    }

    .no-result {
      margin-top: 40px;
      color: #ccc;
      font-size: 18px;
    }

    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .back-btn {
      background: transparent;
      border: 1px solid #FFD700;
      color: #FFD700;
      border-radius: 8px;
      padding: 8px 15px;
      cursor: pointer;
    }

    .theme-toggle {
      background: #FFD700;
      color: black;
      padding: 8px 15px;
      border-radius: 8px;
      border: none;
    }

  </style>
</head>
<body>

  <div class="top-bar">
    <button class="back-btn" onclick="goBack()">â¬… Ø±Ø¬ÙˆØ¹</button>
    <h1>â¤ï¸ Ø§Ù„Ù…ÙØ¶Ù„Ø©</h1>
    <button class="theme-toggle" onclick="toggleTheme()">ğŸŒ“</button>
  </div>

  <div id="favoritesList"></div>

  <script>
    function goBack() {
      window.location.href = "user.html";
    }

    function loadFavorites() {
      const favPhones = JSON.parse(localStorage.getItem("favorites") || "[]");
      const allDrivers = JSON.parse(localStorage.getItem("driversData") || "[]");
      const favDrivers = allDrivers.filter(d => favPhones.includes(d.phone));

      const listDiv = document.getElementById("favoritesList");
      listDiv.innerHTML = "";

      if (favDrivers.length === 0) {
        listDiv.innerHTML = "<p class='no-result'>ğŸ’” Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø£ÙŠ Ø³Ø§Ø¦Ù‚ ÙÙŠ Ø§Ù„Ù…ÙØ¶Ù„Ø©</p>";
        return;
      }

      favDrivers.forEach(d => {
        listDiv.innerHTML += `
          <div class="driver-card">
            ${d.photo ? `<img src="${d.photo}" alt="ØµÙˆØ±Ø© Ø§Ù„Ø³Ø§Ø¦Ù‚">` : ""}
            <h3>${d.name} ${d.vehicle ? `(${d.vehicle})` : ""}</h3>
            <p>ğŸšš Ø§Ù„Ù†ÙˆØ¹: ${d.type}</p>
            <p>ğŸ“ Ù…Ù†: ${d.from} â†’ Ø¥Ù„Ù‰: ${d.to}</p>
            <p>ğŸ’° Ø§Ù„Ø³Ø¹Ø±: ${d.price}</p>
            <p>ğŸ“ ${d.phone}</p>
            <a href="tel:${d.phone}" class="contact-btn">ğŸ“ Ø§ØªØµØ§Ù„</a>
            <button class="remove-btn" onclick="removeFavorite('${d.phone}')">ğŸ—‘ Ø­Ø°Ù</button>
          </div>
        `;
      });
    }

    function removeFavorite(phone) {
      let favPhones = JSON.parse(localStorage.getItem("favorites") || "[]");
      favPhones = favPhones.filter(p => p !== phone);
      localStorage.setItem("favorites", JSON.stringify(favPhones));
      loadFavorites();
    }

    function toggleTheme() {
      const isDark = document.body.style.background.includes("#000");
      if (isDark) {
        document.body.style.background = "linear-gradient(180deg, #fffbe0, #ffe760)";
        document.body.style.color = "#222";
      } else {
        document.body.style.background = "linear-gradient(180deg, #000000, #1a1a1a)";
        document.body.style.color = "#FFD700";
      }
    }

    loadFavorites();
  </script>
</body>
</html>
