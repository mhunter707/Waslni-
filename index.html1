<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Waslni - ÙˆØµÙ„Ù†ÙŠ</title>
<style>
  body {
    margin: 0;
    font-family: "Cairo", sans-serif;
    background-color: #000;
    color: #fff;
    height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }
  h1 {
    color: #FFD700;
    font-size: 3em;
    margin-bottom: 40px;
    animation: fadeIn 2s ease;
  }
  .container {
    display: flex;
    flex-direction: column;
    width: 90%;
    max-width: 400px;
  }
  .half {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5em;
    padding: 40px;
    border-radius: 20px;
    margin: 10px 0;
    background-color: #1a1a1a;
    border: 2px solid #FFD700;
    color: #FFD700;
    transition: 0.3s;
  }
  .half:hover {
    background-color: #FFD700;
    color: #000;
  }
  select {
    width: 80%;
    padding: 10px;
    font-size: 1em;
    border-radius: 10px;
    margin-top: 15px;
  }
  @keyframes fadeIn { from {opacity: 0;} to {opacity: 1;} }
</style>
</head>
<body>

<h1>Waslni - ÙˆØµÙ„Ù†ÙŠ ğŸ’›</h1>

<div class="container">
  <div class="half" onclick="openUser()">ğŸš— Ù…Ø³ØªØ®Ø¯Ù…</div>
  <div class="half" onclick="openDriver()">ğŸšš Ù†Ø§Ù‚Ù„</div>
</div>

<div id="locationModal" style="display:none; text-align:center; margin-top:30px;">
  <h2>ğŸŒ Ø§Ø®ØªØ± Ø§Ù„Ø¯ÙˆÙ„Ø© ÙˆØ§Ù„Ù…Ø¯ÙŠÙ†Ø©</h2>
  <select id="country" onchange="updateCities()">
    <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¯ÙˆÙ„Ø©</option>
  </select>
  <br>
  <select id="city">
    <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</option>
  </select>
</div>

<script>
let countriesData = {};

async function loadCountries() {
  const response = await fetch('cities.json');
  countriesData = await response.json();

  const countrySelect = document.getElementById("country");
  Object.keys(countriesData).forEach(country => {
    const opt = document.createElement("option");
    opt.value = country;
    opt.textContent = country + " " + countriesData[country].flag;
    countrySelect.appendChild(opt);
  });
}

function openUser() {
  document.querySelector(".container").style.display = "none";
  document.querySelector("h1").innerText = "ğŸš— Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…";
  document.getElementById("locationModal").style.display = "block";
  loadCountries();
}

function openDriver() {
  document.querySelector(".container").style.display = "none";
  document.querySelector("h1").innerText = "ğŸšš Ø§Ù„Ù†Ø§Ù‚Ù„";
  document.getElementById("locationModal").style.display = "block";
  loadCountries();
}

function updateCities() {
  const country = document.getElementById("country").value;
  const citySelect = document.getElementById("city");
  citySelect.innerHTML = "<option value=''>Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</option>";

  if (country && countriesData[country]) {
    countriesData[country].cities.forEach(city => {
      const opt = document.createElement("option");
      opt.value = city;
      opt.textContent = city;
      citySelect.appendChild(opt);
    });
  }
}
</script>

</body>
</html>
