<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Waslni - ÙˆØµÙ„Ù†ÙŠ</title>
  <style>
    body {
      font-family: 'Tajawal', sans-serif;
      background-color: #121212;
      color: white;
      margin: 0;
      padding: 0;
      text-align: center;
    }
    h1 {
      color: #FFD700;
      font-size: 2.5em;
      margin-top: 30vh;
    }
    .screen {
      display: none;
    }
    .btn {
      background-color: #FFD700;
      border: none;
      color: #000;
      font-weight: bold;
      padding: 15px 25px;
      border-radius: 15px;
      margin: 10px;
      font-size: 1.2em;
      width: 80%;
    }
    .split {
      display: flex;
      flex-direction: column;
      justify-content: center;
      height: 100vh;
    }
    select, input {
      width: 80%;
      padding: 10px;
      border-radius: 10px;
      border: none;
      margin: 8px;
    }
    .section {
      border: 1px solid #FFD700;
      border-radius: 15px;
      padding: 20px;
      margin: 20px;
    }
  </style>
</head>
<body>
  <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© -->
  <div id="startScreen">
    <h1>ğŸš— Waslni - ÙˆØµÙ„Ù†ÙŠ</h1>
    <p>Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p>
  </div>

  <!-- Ø´Ø§Ø´Ø© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… / Ø§Ù„Ù†Ø§Ù‚Ù„ -->
  <div id="choiceScreen" class="split screen">
    <button class="btn" onclick="showUser()">Ø£Ù†Ø§ Ù…Ø³ØªØ®Ø¯Ù…</button>
    <button class="btn" onclick="showDriver()">Ø£Ù†Ø§ Ù†Ø§Ù‚Ù„</button>
  </div>

  <!-- ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… -->
  <div id="userSection" class="section screen">
    <h2>ğŸ” Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù†Ø§Ù‚Ù„</h2>
    <select id="countrySelect" onchange="loadCities()">
      <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¯ÙˆÙ„Ø©</option>
    </select>
    <select id="citySelect">
      <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</option>
    </select><br>
    <button class="btn" onclick="loadDrivers()">Ø¹Ø±Ø¶ Ø§Ù„Ù†Ø§Ù‚Ù„ÙŠÙ† Ø§Ù„Ù…ØªØ§Ø­ÙŠÙ†</button>
    <div id="driversList"></div>
  </div>

  <!-- ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù†Ø§Ù‚Ù„ -->
  <div id="driverSection" class="section screen">
    <h2>ğŸ“ ØªØ³Ø¬ÙŠÙ„ Ù†Ø§Ù‚Ù„ Ø¬Ø¯ÙŠØ¯</h2>
    <input type="text" id="name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù†Ø§Ù‚Ù„"><br>
    <select id="type">
      <option value="Ø®Ø§Øµ">Ù†Ù‚Ù„ Ø®Ø§Øµ</option>
      <option value="Ø¨Ø¶Ø§Ø¦Ø¹">Ù†Ù‚Ù„ Ø¨Ø¶Ø§Ø¦Ø¹</option>
      <option value="Ø§Ù„Ø§Ø«Ù†ÙŠÙ†">ÙƒÙ„Ø§Ù‡Ù…Ø§</option>
    </select><br>
    <select id="countryDriver" onchange="loadDriverCities()">
      <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¯ÙˆÙ„Ø©</option>
    </select>
    <select id="cityDriver">
      <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</option>
    </select><br>
    <input type="text" id="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ"><br>
    <input type="number" id="price" placeholder="Ø§Ù„Ø³Ø¹Ø± Ø¨Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ©"><br>
    <button class="btn" onclick="saveDriver()">Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
  </div>

  <script>
    const binUrl = "https://www.jsonkeeper.com/b/GLDC2";

    const countries = {
      "Ù„ÙŠØ¨ÙŠØ§": ["Ø·Ø±Ø§Ø¨Ù„Ø³", "Ø¨Ù†ØºØ§Ø²ÙŠ", "Ù…ØµØ±Ø§ØªØ©", "Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡", "Ø³Ø¨Ù‡Ø§", "Ø¯Ø±Ù†Ø©", "Ø³Ø±Øª", "Ø²Ù„ÙŠØªÙ†", "Ø§Ù„Ø®Ù…Ø³", "ØºØ±ÙŠØ§Ù†", "Ø·Ø¨Ø±Ù‚"],
      "Ù…ØµØ±": ["Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©", "Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©", "Ø§Ù„Ø¬ÙŠØ²Ø©", "Ø£Ø³ÙˆØ§Ù†", "Ø§Ù„Ø£Ù‚ØµØ±", "Ø·Ù†Ø·Ø§", "Ø§Ù„Ù…Ù†ØµÙˆØ±Ø©"],
      "Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©": ["Ø§Ù„Ø±ÙŠØ§Ø¶", "Ø¬Ø¯Ø©", "Ù…ÙƒØ©", "Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©", "Ø§Ù„Ø¯Ù…Ø§Ù…", "Ø§Ù„Ø·Ø§Ø¦Ù"],
      "Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±": ["Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± Ø§Ù„Ø¹Ø§ØµÙ…Ø©", "ÙˆÙ‡Ø±Ø§Ù†", "Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©", "Ø³Ø·ÙŠÙ", "ØªÙ„Ù…Ø³Ø§Ù†", "Ø¨Ø§ØªÙ†Ø©"],
      "Ø§Ù„Ù…ØºØ±Ø¨": ["Ø§Ù„Ø±Ø¨Ø§Ø·", "Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡", "Ù…Ø±Ø§ÙƒØ´", "ÙØ§Ø³", "Ø·Ù†Ø¬Ø©", "Ø£ÙƒØ§Ø¯ÙŠØ±"],
      "ØªÙˆÙ†Ø³": ["ØªÙˆÙ†Ø³", "ØµÙØ§Ù‚Ø³", "Ø³ÙˆØ³Ø©", "Ø¨Ù†Ø²Ø±Øª", "Ù†Ø§Ø¨Ù„", "Ù‚Ø§Ø¨Ø³"],
      "Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª": ["Ø£Ø¨ÙˆØ¸Ø¨ÙŠ", "Ø¯Ø¨ÙŠ", "Ø§Ù„Ø´Ø§Ø±Ù‚Ø©", "Ø§Ù„Ø¹ÙŠÙ†", "Ø±Ø£Ø³ Ø§Ù„Ø®ÙŠÙ…Ø©"],
      "Ø§Ù„Ø£Ø±Ø¯Ù†": ["Ø¹Ù…Ø§Ù†", "Ø¥Ø±Ø¨Ø¯", "Ø§Ù„Ø²Ø±Ù‚Ø§Ø¡", "Ø§Ù„ÙƒØ±Ùƒ", "Ø§Ù„Ø¹Ù‚Ø¨Ø©"],
      "Ø§Ù„Ø¹Ø±Ø§Ù‚": ["Ø¨ØºØ¯Ø§Ø¯", "Ø§Ù„Ø¨ØµØ±Ø©", "Ø§Ù„Ù…ÙˆØµÙ„", "Ø£Ø±Ø¨ÙŠÙ„", "Ø§Ù„Ù†Ø¬Ù"],
      "Ø§Ù„Ø³ÙˆØ¯Ø§Ù†": ["Ø§Ù„Ø®Ø±Ø·ÙˆÙ…", "Ø£Ù… Ø¯Ø±Ù…Ø§Ù†", "Ø¨ÙˆØ±ØªØ³ÙˆØ¯Ø§Ù†", "Ù…Ø¯Ù†ÙŠ"],
      "ÙÙ„Ø³Ø·ÙŠÙ†": ["Ø§Ù„Ù‚Ø¯Ø³", "ØºØ²Ø©", "Ù†Ø§Ø¨Ù„Ø³", "Ø±Ø§Ù… Ø§Ù„Ù„Ù‡"],
      "Ù„Ø¨Ù†Ø§Ù†": ["Ø¨ÙŠØ±ÙˆØª", "Ø·Ø±Ø§Ø¨Ù„Ø³", "ØµÙŠØ¯Ø§", "Ø²Ø­Ù„Ø©"],
      "Ø³ÙˆØ±ÙŠØ§": ["Ø¯Ù…Ø´Ù‚", "Ø­Ù„Ø¨", "Ø­Ù…Øµ", "Ø§Ù„Ù„Ø§Ø°Ù‚ÙŠØ©", "Ø­Ù…Ø§Ø©"],
      "Ø§Ù„ÙŠÙ…Ù†": ["ØµÙ†Ø¹Ø§Ø¡", "Ø¹Ø¯Ù†", "ØªØ¹Ø²", "Ø§Ù„Ø­Ø¯ÙŠØ¯Ø©", "Ø¥Ø¨"],
      "Ø¹Ù…Ø§Ù†": ["Ù…Ø³Ù‚Ø·", "ØµÙ„Ø§Ù„Ø©", "Ù†Ø²ÙˆÙ‰", "ØµÙˆØ±"],
      "Ø§Ù„ÙƒÙˆÙŠØª": ["Ø§Ù„ÙƒÙˆÙŠØª", "Ø­ÙˆÙ„ÙŠ", "Ø§Ù„ÙØ±ÙˆØ§Ù†ÙŠØ©", "Ø§Ù„Ø£Ø­Ù…Ø¯ÙŠ"],
      "Ù‚Ø·Ø±": ["Ø§Ù„Ø¯ÙˆØ­Ø©", "Ø§Ù„Ø±ÙŠØ§Ù†", "Ø§Ù„ÙˆÙƒØ±Ø©"],
      "Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†": ["Ø§Ù„Ù…Ù†Ø§Ù…Ø©", "Ø§Ù„Ù…Ø­Ø±Ù‚", "Ø³ØªØ±Ø©", "Ø±ÙØ§Ø¹"],
      "Ù…ÙˆØ±ÙŠØªØ§Ù†ÙŠØ§": ["Ù†ÙˆØ§ÙƒØ´ÙˆØ·", "Ù†ÙˆØ§Ø°ÙŠØ¨Ùˆ", "Ø£Ø·Ø§Ø±", "ÙƒÙŠÙÙ‡"]
    };

    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¯ÙˆÙ„ ÙÙŠ Ø§Ù„Ù‚ÙˆØ§Ø¦Ù…
    function loadCountries() {
      const countrySelects = [document.getElementById("countrySelect"), document.getElementById("countryDriver")];
      countrySelects.forEach(select => {
        select.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¯ÙˆÙ„Ø©</option>';
        for (let c in countries) {
          const opt = document.createElement("option");
          opt.value = c;
          opt.textContent = c;
          select.appendChild(opt);
        }
      });
    }

    function loadCities() {
      const country = document.getElementById("countrySelect").value;
      const citySelect = document.getElementById("citySelect");
      citySelect.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</option>';
      if (countries[country]) {
        countries[country].forEach(city => {
          const opt = document.createElement("option");
          opt.value = city;
          opt.textContent = city;
          citySelect.appendChild(opt);
        });
      }
    }

    function loadDriverCities() {
      const country = document.getElementById("countryDriver").value;
      const citySelect = document.getElementById("cityDriver");
      citySelect.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</option>';
      if (countries[country]) {
        countries[country].forEach(city => {
          const opt = document.createElement("option");
          opt.value = city;
          opt.textContent = city;
          citySelect.appendChild(opt);
        });
      }
    }

    async function loadDrivers() {
      const res = await fetch(binUrl);
      const data = await res.json();
      const country = document.getElementById("countrySelect").value;
      const city = document.getElementById("citySelect").value;

      let list = "<h3>ğŸš˜ Ø§Ù„Ù†Ø§Ù‚Ù„ÙŠÙ† Ø§Ù„Ù…ØªØ§Ø­ÙŠÙ†:</h3>";
      const filtered = data.filter(d => d.country === country && d.city === city);
      if (filtered.length === 0) list += "<p>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù†Ø§Ù‚Ù„ÙŠÙ† ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø­Ø§Ù„ÙŠØ§</p>";
      filtered.forEach(d => {
        list += `<p><b>${d.name}</b> (${d.type})<br>ğŸ“ ${d.city}, ${d.country}<br>ğŸ’° ${d.price}<br>ğŸ“ ${d.phone}</p><hr>`;
      });
      document.getElementById("driversList").innerHTML = list;
    }

    async function saveDriver() {
      const name = document.getElementById("name").value;
      const type = document.getElementById("type").value;
      const country = document.getElementById("countryDriver").value;
      const city = document.getElementById("cityDriver").value;
      const phone = document.getElementById("phone").value;
      const price = document.getElementById("price").value;

      if (!name || !country || !city || !phone || !price) {
        alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„");
        return;
      }

      alert("âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­ (Ø³ÙŠØªÙ… Ø§Ù„Ø­ÙØ¸ Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ø§Ø­Ù‚Ù‹Ø§)");
    }

    // Ø¹Ø±Ø¶ Ø§Ù„Ø´Ø§Ø´Ø© Ø¨Ø§Ù„ØªØªØ§Ø¨Ø¹
    window.onload = () => {
      setTimeout(() => {
        document.getElementById("startScreen").style.display = "none";
        document.getElementById("choiceScreen").style.display = "flex";
        loadCountries();
      }, 2000);
    };

    function showUser() {
      document.getElementById("choiceScreen").style.display = "none";
      document.getElementById("userSection").style.display = "block";
    }

    function showDriver() {
      document.getElementById("choiceScreen").style.display = "none";
      document.getElementById("driverSection").style.display = "block";
    }
  </script>
</body>
</html>
